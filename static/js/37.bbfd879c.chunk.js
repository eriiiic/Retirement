(()=>{"use strict";let t=function(t){return t.CALCULATE_ZOOMED_DATA="CALCULATE_ZOOMED_DATA",t.CALCULATE_GROWTH_PERCENTAGE="CALCULATE_GROWTH_PERCENTAGE",t.ZOOMED_DATA_RESULT="ZOOMED_DATA_RESULT",t.GROWTH_PERCENTAGE_RESULT="GROWTH_PERCENTAGE_RESULT",t.FILTER_AND_SORT_DATA="FILTER_AND_SORT_DATA",t.FILTERED_SORTED_DATA_RESULT="FILTERED_SORTED_DATA_RESULT",t.CALCULATE_SUMMARY="CALCULATE_SUMMARY",t.SUMMARY_RESULT="SUMMARY_RESULT",t.CALCULATE_SCHEDULE="CALCULATE_SCHEDULE",t.SCHEDULE_RESULT="SCHEDULE_RESULT",t.ERROR="ERROR",t}({});const a=self;a.onmessage=e=>{const{type:n,payload:E}=e.data;if(n===t.CALCULATE_SUMMARY)try{const{graphData:e}=E,n={initialCapital:0,finalCapital:0,retirementAge:0,retirementDuration:0,totalContributions:0,totalWithdrawals:0,growthPercentage:0,annualizedReturn:0};if(e&&e.length>0){n.initialCapital=e[0].capital,n.finalCapital=e[e.length-1].capital;const t=e.find((t=>"Yes"===t.retirement));if(t){n.retirementAge=t.age;const a=e[e.length-1].year,E=t.year;n.retirementDuration=a-E}let a=0,E=0;e.forEach((t=>{t.annualInvestment>0&&(a+=t.annualInvestment),t.annualWithdrawal>0&&(E+=t.annualWithdrawal)})),n.totalContributions=a,n.totalWithdrawals=E,n.growthPercentage=(n.finalCapital-n.initialCapital-a+E)/(n.initialCapital+a)*100;const i=e.length;i>1&&(n.annualizedReturn=Math.pow(n.finalCapital/n.initialCapital,1/i)-1,n.annualizedReturn*=100)}a.postMessage({type:t.SUMMARY_RESULT,data:n})}catch(i){a.postMessage({type:t.ERROR,error:i instanceof Error?i.message:"Unknown error",data:null})}else a.postMessage({type:t.ERROR,error:`Unknown message type: ${n}`,data:null})}})();
//# sourceMappingURL=37.bbfd879c.chunk.js.map